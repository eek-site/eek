<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Pre Purchase Vehicle Inspection Booking - Eek Mobile Mechanical | Mobile Mechanic NZ</title>
  <meta name="description" content="Book your pre purchase vehicle inspection with Eek Mobile Mechanical. Professional mobile mechanic service across New Zealand. 45-point certified inspection. Book online or call 0800 769 000." />
  <meta name="keywords" content="pre purchase vehicle inspection, mobile mechanic, book inspection, vehicle inspection NZ, car inspection before buying, mobile mechanic inspection, Eek Mobile Mechanical" />
  <meta property="og:title" content="Pre Purchase Vehicle Inspection Booking - Eek Mobile Mechanical" />
  <meta property="og:description" content="Book your pre purchase vehicle inspection with our professional mobile mechanics. 45-point certified inspection anywhere in NZ." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://www.eek.nz/prepurchase-inspection" />

  <!-- Security Headers -->
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://www.googletagmanager.com https://www.google-analytics.com https://www.redditstatic.com https://googleads.g.doubleclick.net https://widget.reviewability.com https://app.revu.cloud; script-src-elem 'self' 'unsafe-inline' https://www.googletagmanager.com https://www.google-analytics.com https://www.redditstatic.com https://googleads.g.doubleclick.net https://widget.reviewability.com https://app.revu.cloud; style-src 'self' 'unsafe-inline' https://widget.reviewability.com https://app.revu.cloud; style-src-elem 'self' 'unsafe-inline' https://widget.reviewability.com https://app.revu.cloud; img-src 'self' data: https: https://app.revu.cloud https://widget.reviewability.com; font-src 'self' data: https: https://app.revu.cloud https://widget.reviewability.com; connect-src 'self' https://www.google-analytics.com https://www.redditstatic.com https://pixel-config.reddit.com https://conversions-config.reddit.com https://www.googletagmanager.com https://googleads.g.doubleclick.net https://www.google.com https://app.revu.cloud https://widget.reviewability.com; frame-src 'self' https://td.doubleclick.net https://www.googletagmanager.com https://app.revu.cloud https://widget.reviewability.com;">

  <!-- Reddit Pixel -->
  <script>
    !function(w,d){if(!w.rdt){var p=w.rdt=function(){p.sendEvent?p.sendEvent.apply(p,arguments):p.callQueue.push(arguments)};p.callQueue=[];var t=d.createElement("script");t.src="https://www.redditstatic.com/ads/pixel.js",t.async=!0;var s=d.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}}
    (window,document);
    
    rdt('init', 'a2_hf16791nsdhx');
    rdt('track', 'PageVisit');
  </script>

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=AW-17084465163"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'AW-17084465163');
    gtag('config', 'G-DQNKF1YLWR');
  </script>

  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #f5f5f5;
      margin: 0;
      padding: 0 0 80px 0;
      color: #333;
      text-align: center;
    }
    header {
      background: #ffffff;
      padding: 20px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .business-name {
      font-size: 2.2em;
      font-weight: bold;
      color: #ff5500;
      margin: 0.3em 0;
      text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
    }
    header img {
      max-width: 250px;
      height: auto;
      border-radius: 12px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    h1 {
      font-size: 1.8em;
      margin: 0.5em 0 0.2em;
      color: #333;
    }
    .breadcrumb {
      background: #e8f4f8;
      padding: 10px 20px;
      margin: 0;
      text-align: left;
      font-size: 0.9em;
    }
    .breadcrumb a {
      color: #ff5500;
      text-decoration: none;
    }
    .breadcrumb a:hover {
      text-decoration: underline;
    }
    .booking-container {
      max-width: 800px;
      margin: 20px auto;
      background: white;
      border-radius: 12px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      overflow: hidden;
    }
    .booking-header {
      background: linear-gradient(135deg, #ff5500, #ff7733);
      color: white;
      padding: 30px;
      text-align: center;
    }
    .booking-header h2 {
      margin: 0 0 10px 0;
      font-size: 2em;
    }
    .booking-header p {
      margin: 0;
      font-size: 1.1em;
      opacity: 0.9;
    }
    .booking-steps {
      padding: 30px;
    }
    .step {
      display: none;
      text-align: left;
    }
    .step.active {
      display: block;
    }
    .step h3 {
      color: #ff5500;
      margin-bottom: 20px;
      font-size: 1.4em;
    }
    .location-input {
      width: 100%;
      padding: 12px;
      border: 2px solid #ddd;
      border-radius: 8px;
      font-size: 1.1em;
      margin-bottom: 20px;
    }
    .location-input:focus {
      border-color: #ff5500;
      outline: none;
    }
    .calendar-container {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      margin: 20px 0;
    }
    .calendar {
      border: 2px solid #ddd;
      border-radius: 8px;
      padding: 15px;
    }
    .calendar h4 {
      margin: 0 0 15px 0;
      text-align: center;
      color: #333;
    }
    .calendar-grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 5px;
    }
    .day-header {
      text-align: center;
      font-weight: bold;
      padding: 8px 4px;
      font-size: 0.9em;
      color: #666;
    }
    .day {
      text-align: center;
      padding: 10px 4px;
      cursor: pointer;
      border-radius: 4px;
      font-size: 0.9em;
      transition: all 0.2s;
    }
    .day:hover {
      background: #f0f0f0;
    }
    .day.disabled {
      color: #ccc;
      cursor: not-allowed;
    }
    .day.selected {
      background: #ff5500;
      color: white;
    }
    .day.past {
      color: #ccc;
      cursor: not-allowed;
    }
    .time-slots {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
      gap: 10px;
      margin: 20px 0;
    }
    .time-slot {
      padding: 12px;
      border: 2px solid #ddd;
      border-radius: 8px;
      cursor: pointer;
      text-align: center;
      transition: all 0.2s;
      position: relative;
    }
    .time-slot:hover {
      border-color: #ff5500;
    }
    .time-slot.selected {
      background: #ff5500;
      color: white;
      border-color: #ff5500;
    }
    .time-slot.limited {
      border-color: #ff9500;
      background: #fff8f0;
    }
    .time-slot .availability {
      font-size: 0.8em;
      color: #ff6600;
      margin-top: 4px;
    }
    .availability-alert {
      background: #fff3cd;
      border: 1px solid #ffeaa7;
      border-radius: 8px;
      padding: 15px;
      margin: 20px 0;
      text-align: center;
    }
    .availability-alert.urgent {
      background: #f8d7da;
      border-color: #f5c6cb;
    }
    .reservation-summary {
      background: #e8f4f8;
      border-radius: 8px;
      padding: 20px;
      margin: 20px 0;
    }
    .reservation-summary h4 {
      margin: 0 0 15px 0;
      color: #333;
    }
    .summary-item {
      display: flex;
      justify-content: space-between;
      margin: 8px 0;
    }
    .summary-item strong {
      color: #ff5500;
    }
    .button {
      background: #ff5500;
      color: white;
      padding: 12px 24px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1.1em;
      text-decoration: none;
      display: inline-block;
      transition: all 0.2s;
      margin: 10px 5px;
    }
    .button:hover {
      background: #e04400;
      transform: translateY(-1px);
    }
    .button.secondary {
      background: #6c757d;
    }
    .button.secondary:hover {
      background: #545b62;
    }
    .button:disabled {
      background: #ccc;
      cursor: not-allowed;
      transform: none;
    }
    .terms-section {
      background: #f8f9fa;
      border-radius: 8px;
      padding: 20px;
      margin: 20px 0;
      text-align: left;
    }
    .terms-checkbox {
      display: flex;
      align-items: flex-start;
      gap: 10px;
      margin: 15px 0;
    }
    .terms-checkbox input {
      margin-top: 4px;
      transform: scale(1.2);
    }
    .terms-text {
      font-size: 0.95em;
      line-height: 1.5;
    }
    .terms-text a {
      color: #ff5500;
      text-decoration: none;
    }
    .terms-text a:hover {
      text-decoration: underline;
    }
    .progress-bar {
      display: flex;
      justify-content: space-between;
      margin: 20px 0;
      padding: 0 20px;
    }
    .progress-step {
      flex: 1;
      text-align: center;
      position: relative;
    }
    .progress-step::before {
      content: '';
      width: 30px;
      height: 30px;
      border-radius: 50%;
      background: #ddd;
      display: block;
      margin: 0 auto 8px;
    }
    .progress-step.active::before {
      background: #ff5500;
    }
    .progress-step.completed::before {
      background: #28a745;
    }
    .progress-step span {
      font-size: 0.9em;
      color: #666;
    }
    .progress-step.active span {
      color: #ff5500;
      font-weight: bold;
    }
    .more-options-container {
      background: #ffffff;
      margin: 40px 20px 20px;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.05);
      max-width: 800px;
      margin-left: auto;
      margin-right: auto;
    }
    
    .more-options-header {
      margin-bottom: 30px;
    }
    
    .more-options-header h2 {
      color: #333;
      font-size: 1.8em;
      margin-bottom: 10px;
    }
    
    .more-options-header p {
      color: #666;
      font-size: 1.1em;
      margin-bottom: 0;
    }
    
    .contact-sections {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin-bottom: 20px;
    }
    
    .contact-section {
      padding: 20px;
      border-radius: 12px;
      text-align: left;
    }
    
    .contact-section.customers {
      background: linear-gradient(135deg, #007acc, #0056b3);
      color: white;
    }
    
    .contact-section.suppliers {
      background: linear-gradient(135deg, #28a745, #1e7e34);
      color: white;
    }
    
    .contact-section.admin {
      background: linear-gradient(135deg, #6f42c1, #5a32a3);
      color: white;
    }
    
    .contact-section h3 {
      margin-top: 0;
      margin-bottom: 10px;
      font-size: 1.3em;
    }
    
    .contact-section p {
      margin-bottom: 15px;
      opacity: 0.9;
      font-size: 0.95em;
    }
    
    .contact-buttons {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    
    .contact-btn {
      background: rgba(255,255,255,0.15);
      backdrop-filter: blur(10px);
      color: white;
      text-decoration: none;
      padding: 10px 15px;
      border-radius: 6px;
      font-size: 0.95em;
      border: 1px solid rgba(255,255,255,0.3);
      transition: all 0.3s ease;
      text-align: center;
    }
    
    .contact-btn:hover {
      background: rgba(255,255,255,0.25);
      border-color: rgba(255,255,255,0.5);
      transform: translateY(-1px);
    }
    
    /* Notification styling */
    .notification {
      position: fixed;
      top: 20px;
      right: 20px;
      background: linear-gradient(135deg, #ff5500, #e04400);
      color: white;
      padding: 15px 20px;
      border-radius: 12px;
      box-shadow: 0 8px 32px rgba(255, 85, 0, 0.4);
      z-index: 1001;
      transform: translateX(400px);
      opacity: 0;
      transition: all 0.4s ease;
      max-width: 320px;
      border-left: 4px solid rgba(255, 255, 255, 0.3);
    }
    
    .notification.show {
      transform: translateX(0);
      opacity: 1;
    }
    
    .notification.error {
      background: linear-gradient(135deg, #dc3545, #c82333);
      box-shadow: 0 8px 32px rgba(220, 53, 69, 0.4);
    }
    
    .notification .notification-content {
      display: flex;
      align-items: center;
      gap: 12px;
    }
    
    .notification .notification-icon {
      font-size: 1.5em;
      flex-shrink: 0;
    }
    
    .notification .notification-text {
      flex: 1;
      font-size: 0.95em;
      line-height: 1.4;
    }
    
    .notification .notification-close {
      background: none;
      border: none;
      color: white;
      cursor: pointer;
      font-size: 1.2em;
      padding: 0;
      width: 24px;
      height: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      transition: background 0.2s ease;
      flex-shrink: 0;
    }
    
    .notification .notification-close:hover {
      background: rgba(255, 255, 255, 0.2);
    }
    
    /* Field highlight animation */
    .field-error {
      border-color: #dc3545 !important;
      box-shadow: 0 0 0 3px rgba(220, 53, 69, 0.25) !important;
      animation: shake 0.5s ease-in-out;
    }
    
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-5px); }
      75% { transform: translateX(5px); }
    }
    
    /* Mobile notification adjustments */
    @media (max-width: 768px) {
      .notification {
        top: 10px;
        right: 10px;
        left: 10px;
        max-width: none;
        transform: translateY(-100px);
      }
      
      .notification.show {
        transform: translateY(0);
      }
    }

    /* Floating Action Buttons */
    .floating-nav {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 1000;
      display: flex;
      gap: 10px;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      padding: 15px 20px;
      border-radius: 50px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
      border: 1px solid rgba(255, 255, 255, 0.2);
      transition: all 0.3s ease;
    }
    
    .floating-nav:hover {
      background: rgba(255, 255, 255, 1);
      transform: translateX(-50%) translateY(-2px);
      box-shadow: 0 12px 40px rgba(0, 0, 0, 0.3);
    }
    
    .floating-btn {
      background: #ff5500;
      color: white;
      padding: 12px 20px;
      border: none;
      border-radius: 25px;
      cursor: pointer;
      font-size: 1em;
      font-weight: 600;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      transition: all 0.2s ease;
      white-space: nowrap;
      box-shadow: 0 4px 12px rgba(255, 85, 0, 0.3);
    }
    
    .floating-btn:hover {
      background: #e04400;
      transform: translateY(-1px);
      box-shadow: 0 6px 16px rgba(255, 85, 0, 0.4);
    }
    
    .floating-btn.secondary {
      background: #6c757d;
      box-shadow: 0 4px 12px rgba(108, 117, 125, 0.3);
    }
    
    .floating-btn.secondary:hover {
      background: #545b62;
      box-shadow: 0 6px 16px rgba(108, 117, 125, 0.4);
    }
    
    .floating-btn:disabled {
      background: #ccc;
      cursor: not-allowed;
      transform: none;
      box-shadow: 0 4px 12px rgba(204, 204, 204, 0.3);
    }
    
    .floating-btn .btn-icon {
      font-size: 1.1em;
    }
    
    /* Hide floating nav on very small screens to avoid overlap */
    @media (max-width: 480px) {
      .floating-nav {
        bottom: 15px;
        padding: 12px 15px;
        border-radius: 40px;
      }
      
      .floating-btn {
        padding: 10px 16px;
        font-size: 0.9em;
      }
    }

    footer {
      font-size: 0.9em;
      color: #999;
      padding: 20px 0;
      background: #f5f5f5;
    }
    
    @media (max-width: 768px) {
      .calendar-container {
        grid-template-columns: 1fr;
      }
      .booking-steps {
        padding: 20px;
      }
      .time-slots {
        grid-template-columns: repeat(2, 1fr);
      }
      .business-name {
        font-size: 1.8em;
      }
      .contact-sections {
        grid-template-columns: 1fr;
      }
      
      .more-options-container {
        margin: 20px 10px;
        padding: 20px;
      }
    }
  </style>
</head>
<body>

<header>
  <img src="lemon.png" alt="Don't buy a lemon! Eek Mobile Mechanical Pre Purchase Vehicle Inspection" />
  <div class="business-name">Eek Mobile Mechanical</div>
  <h1>Don't Buy a Lemon! Pre Purchase Vehicle Inspection</h1>
  <p style="font-size: 1.1em; color: #666; margin: 10px 0;">⚠️ Avoid costly mistakes with our professional vehicle inspection</p>
</header>

<div class="breadcrumb">
  <a href="/">Home</a> > <span>Don't Buy a Lemon - Pre Purchase Inspection</span>
</div>

<div class="booking-container">
  <div class="booking-header">
    <h2>🔍 Don't Buy a Lemon! Book Your Pre Purchase Inspection</h2>
    <p>Professional 45-point certified inspection • $289 fixed rate* • Mobile service anywhere in NZ</p>
    <p style="font-size: 0.8em; color: #666; margin-top: 5px;">*Conditions apply</p>
    <p style="font-size: 0.95em; opacity: 0.9; margin-top: 10px;">Protect yourself from costly hidden problems and mechanical nightmares</p>
    
    <div style="background: rgba(255,255,255,0.15); padding: 15px; border-radius: 8px; margin-top: 15px;">
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); gap: 15px; text-align: center;">
        <div>
          <div style="font-size: 2em; font-weight: bold;">20%</div>
          <div style="font-size: 0.9em; opacity: 0.9;">of vehicles we inspect are rejected</div>
        </div>
        <div>
          <div style="font-size: 2em; font-weight: bold;">40%</div>
          <div style="font-size: 0.9em; opacity: 0.9;">of used cars have unaddressed recalls</div>
        </div>
        <div>
          <div style="font-size: 2em; font-weight: bold;">25%</div>
          <div style="font-size: 0.9em; opacity: 0.9;">have electrical system problems</div>
        </div>
        <div>
          <div style="font-size: 2em; font-weight: bold;">39%</div>
          <div style="font-size: 0.9em; opacity: 0.9;">people overpay without a report</div>
        </div>
      </div>
    </div>
  </div>

  <div class="progress-bar">
    <div class="progress-step active" id="step1-progress">
      <span>Location</span>
    </div>
    <div class="progress-step" id="step2-progress">
      <span>Date & Time</span>
    </div>
    <div class="progress-step" id="step3-progress">
      <span>Confirm</span>
    </div>
  </div>

  <div class="booking-steps">
    <!-- Step 1: Location -->
<div class="step active" id="step1">
  <h3>Step 1: Where is the vehicle located?</h3>
  <input type="text" class="location-input" id="locationInput" placeholder="Enter address, suburb, or region (e.g. Auckland CBD, Christchurch, Wellington)" />
  <p style="color: #666; margin: 10px 0;">We service all of New Zealand. Our mobile mechanics will come to any location - dealership, private seller, or anywhere else. Don't get stuck with a lemon!</p>
  


  <!-- Step 1 NEXT button -->
  <div style="text-align:center; margin:20px 0;">
    <button class="button" onclick="goToStep2()">Next: Select Date & Time</button>
  </div>
</div>

<!-- Floating Navigation -->
<div class="floating-nav" id="floatingNav" style="display: none;">
  <!-- Step 1 floating button -->
  <button class="floating-btn" id="floatingStep1Btn" onclick="goToStep2()" style="display: none;">
    <span class="btn-icon">📅</span>
    Next: Select Date & Time
  </button>
  
  <!-- Step 2 floating buttons -->
  <div id="floatingStep2Btns" style="display: none;">
    <button class="floating-btn secondary" onclick="goToStep1()">
      <span class="btn-icon">←</span>
      Back
    </button>
    <button class="floating-btn" id="floatingConfirmTimeBtn" onclick="goToStep3()" disabled>
      <span class="btn-icon">✓</span>
      Confirm Selection
    </button>
  </div>
  
  <!-- Step 3 floating buttons -->
  <div id="floatingStep3Btns" style="display: none;">
    <button class="floating-btn secondary" onclick="goToStep2()">
      <span class="btn-icon">←</span>
      Back
    </button>
    <a id="floatingBookBtn" class="floating-btn" data-href="https://buy.stripe.com/9B68wP1JZaIFauH4B7a7I0Z" style="opacity: 0.6; pointer-events: none; text-decoration: none;">
      <span class="btn-icon">💳</span>
      Book Now $289
    </a>
    <a href="tel:0800769000" class="floating-btn" onclick="trackConversion('prepurchase_booking_call', 'Contact')" style="background: #28a745;">
      <span class="btn-icon">📞</span>
      Call 0800 769 000
    </a>
  </div>
</div>

<!-- Why You Need This Inspection Section -->
<div class="booking-container" style="margin-top: 30px;">
  <div style="background: #fff3cd; border: 2px solid #ffeaa7; border-radius: 12px; padding: 30px; text-align: left;">
    <h3 style="margin: 0 0 20px 0; color: #856404; font-size: 1.6em; text-align: center;">⚠️ Why You Need This Inspection</h3>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
      <div style="background: rgba(255,255,255,0.6); padding: 15px; border-radius: 8px; border-left: 4px solid #856404;">
        <strong style="color: #856404; font-size: 1.1em;">1 in 5 vehicles</strong><br>
        <span style="color: #6c5404;">we inspect have serious issues (20% rejection rate)</span>
      </div>
      <div style="background: rgba(255,255,255,0.6); padding: 15px; border-radius: 8px; border-left: 4px solid #856404;">
        <strong style="color: #856404; font-size: 1.1em;">Nearly 40% of used cars</strong><br>
        <span style="color: #6c5404;">have unaddressed safety recalls</span>
      </div>
      <div style="background: rgba(255,255,255,0.6); padding: 15px; border-radius: 8px; border-left: 4px solid #856404;">
        <strong style="color: #856404; font-size: 1.1em;">Electrical problems</strong><br>
        <span style="color: #6c5404;">are found in 25% of vehicles inspected</span>
      </div>
      <div style="background: rgba(255,255,255,0.6); padding: 15px; border-radius: 8px; border-left: 4px solid #856404;">
        <strong style="color: #856404; font-size: 1.1em;">39% of buyers overpay</strong><br>
        <span style="color: #6c5404;">without a professional inspection report</span>
      </div>
      <div style="background: rgba(255,255,255,0.6); padding: 15px; border-radius: 8px; border-left: 4px solid #856404;">
        <strong style="color: #856404; font-size: 1.1em;">Hidden defects</strong><br>
        <span style="color: #6c5404;">can cost thousands in unexpected repairs</span>
      </div>
    </div>
    
    <div style="text-align: center; margin-top: 25px; padding-top: 20px; border-top: 1px solid #ffeaa7;">
      <p style="color: #856404; font-size: 1.1em; margin: 0; font-weight: 600;">
        Don't become another statistic - protect your investment with our comprehensive inspection!
      </p>
    </div>
  </div>
</div> <!-- end of step1 -->

    <!-- Step 2: Date & Time Selection -->
    <div class="step" id="step2">
      <h3>Step 2: Select your preferred date and time</h3>
      <div id="availabilityAlert" class="availability-alert" style="display: none;"></div>
      
      <div class="calendar-container">
        <div class="calendar" id="currentCalendar">
          <h4 id="currentMonth"></h4>
          <div class="calendar-grid"></div>
        </div>
        <div class="calendar" id="nextCalendar">
          <h4 id="nextMonth"></h4>
          <div class="calendar-grid"></div>
        </div>
      </div>

      <div id="timeSlotContainer" style="display: none;">
        <h4>Available times for <span id="selectedDateDisplay"></span>:</h4>
        <div class="time-slots" id="timeSlots"></div>
      </div>

      <div style="margin: 20px 0;">
        <button class="button secondary" onclick="goToStep1()">Back</button>
        <button class="button" id="confirmTimeBtn" onclick="goToStep3()" disabled>Confirm Selection</button>
      </div>
    </div>

    <!-- Step 3: Confirmation -->
    <div class="step" id="step3">
      <h3>Step 3: Confirm your booking</h3>
      
      <div class="reservation-summary">
        <h4>🕐 Your Reserved Time Slot</h4>
        <div class="summary-item">
          <span>Service:</span>
          <strong>Don't Buy a Lemon - Pre Purchase Inspection</strong>
        </div>
        <div class="summary-item">
          <span>Location:</span>
          <strong id="summaryLocation"></strong>
        </div>
        <div class="summary-item">
          <span>Date:</span>
          <strong id="summaryDate"></strong>
        </div>
        <div class="summary-item">
          <span>Time:</span>
          <strong id="summaryTime"></strong>
        </div>
        <div class="summary-item">
          <span>Base Inspection Price:</span>
          <strong>$199</strong>
        </div>
        <div class="summary-item">
          <span>Mobile Service Fee:</span>
          <strong>$90</strong>
        </div>
        <div style="margin-top: 10px; padding-top: 10px; border-top: 1px solid #ddd;">
          <div class="summary-item" style="font-size: 1.1em;">
            <span><strong>Total Price:</strong></span>
            <strong style="color: #ff5500; font-size: 1.2em;">$289</strong>
          </div>
        </div>
        <div style="margin-top: 15px; padding-top: 15px; border-top: 2px solid #ff5500;">
          <div class="summary-item">
            <span style="font-size: 1.1em;">⏰ Reserved Until:</span>
            <strong style="color: #d63384;" id="reservationTimer"></strong>
          </div>
        </div>
      </div>

      <div class="terms-section">
        <h4>Terms and Conditions</h4>
        <div class="terms-checkbox">
          <input type="checkbox" id="termsAgree" />
          <div class="terms-text">
            I agree to the <a href="/terms" target="_blank">Eek Mobile Mechanical Terms of Service</a> and understand that:
            <ul style="margin: 10px 0; padding-left: 20px;">
              <li>Total payment of $289 ($199 inspection + $90 mobile service fee) is required to confirm the booking</li>
              <li>The inspection includes a comprehensive 45-point mechanical assessment to avoid buying a lemon</li>
              <li>Mobile service fee covers travel time and on-site service anywhere in NZ</li>
              <li>Protect yourself from costly hidden mechanical problems - 20% of vehicles we inspect are rejected</li>
              <li>Uncover potential safety recalls (40% of used cars have unaddressed recalls)</li>
              <li>Cancellations must be made at least 24 hours in advance</li>
              <li>Our mobile mechanic will contact you 30 minutes before arrival</li>
            </ul>
          </div>
        </div>
      </div>

     <div style="text-align: center; margin: 20px 0;">
        <button class="button secondary" onclick="goToStep2()">Back to Date Selection</button>
        <br><br>
        <!-- Start disabled (no href yet). Stripe URL stored in data-href -->
        <a id="bookOnlineBtn" class="button" data-href="https://buy.stripe.com/9B68wP1JZaIFauH4B7a7I0Z" style="font-size: 1.2em; padding: 15px 30px; display: inline-block; text-decoration: none; opacity: 0.6; pointer-events: none;">
          📅 Book Now $289
        </a>
        <br>
        <p style="margin: 15px 0; color: #666;">Or call to speak with our team:</p>
        <a href="tel:0800769000" class="button" onclick="trackConversion('prepurchase_booking_call', 'Contact')" style="background: #28a745;">
          📞 Call 0800 769 000 - Quote Total: $289
        </a>
      </div>

      <script>
        (function () {
          // Wait for DOM to be ready
          setTimeout(() => {
            var terms = document.getElementById('termsAgree');
            var btn = document.getElementById('bookOnlineBtn');
            var floatingBtn = document.getElementById('floatingBookBtn');
            
            if (!terms || !btn) return;

            function setEnabled(on) {
              if (on) {
                btn.setAttribute('href', btn.getAttribute('data-href'));
                btn.style.opacity = '';
                btn.style.pointerEvents = '';
                
                if (floatingBtn) {
                  floatingBtn.setAttribute('href', floatingBtn.getAttribute('data-href'));
                  floatingBtn.style.opacity = '';
                  floatingBtn.style.pointerEvents = '';
                }
              } else {
                btn.removeAttribute('href');
                btn.style.opacity = '0.6';
                btn.style.pointerEvents = 'none';
                
                if (floatingBtn) {
                  floatingBtn.removeAttribute('href');
                  floatingBtn.style.opacity = '0.6';
                  floatingBtn.style.pointerEvents = 'none';
                }
              }
            }

            // start disabled; enable when terms are ticked
            setEnabled(false);
            terms.addEventListener('change', function () { setEnabled(terms.checked); }, false);
            
            // Add click validation for the booking buttons
            function validateBooking(event) {
              if (!terms.checked) {
                event.preventDefault();
                
                // Highlight terms section
                const termsSection = document.querySelector('.terms-section');
                termsSection.classList.add('field-error');
                
                showNotification('Please accept the terms and conditions', 'You must agree to our Terms of Service before completing your booking.', 'error');
                
                // Scroll to terms section
                termsSection.scrollIntoView({ 
                  behavior: 'smooth', 
                  block: 'center' 
                });
                
                // Focus the checkbox
                setTimeout(() => {
                  terms.focus();
                }, 500);
                
                // Remove error styling after a few seconds
                setTimeout(() => {
                  termsSection.classList.remove('field-error');
                }, 3000);
                
                return false;
              }
              return true;
            }
            
            // Add validation to both buttons
            btn.addEventListener('click', validateBooking, false);
            if (floatingBtn) {
              floatingBtn.addEventListener('click', validateBooking, false);
            }
            
          }, 100);
        })();
      </script>
    </div>
  </div>
</div>

<!-- Customer Reviews Section (RevU) -->
<section class="services" id="reviews" style="margin-top:24px">
  <h2>⭐ What Customers Say</h2>
  <p>Real, verified reviews from clients across New Zealand.</p>
  <div data-bid="157676" data-url="https://app.revu.cloud" data-aid="23788">
    <script src="https://widget.reviewability.com/js/widgetAdv.min.js" async></script>
  </div>
</section>

<div class="more-options-container">
  <div class="more-options-header">
    <h2>📋 More Eek Mobile Mechanical Services & Support</h2>
    <p>Looking for something else? Eek Mobile Mechanical offers comprehensive support for customers, suppliers, employment, and business partnerships.</p>
  </div>
  
  <div class="contact-sections">
    <div class="contact-section customers">
      <h3>👥 For Customers</h3>
      <p>Need mobile mechanic help or have questions about our services?</p>
      <div class="contact-buttons">
        <a href="/rescue-me" class="contact-btn">🚨 Emergency Mobile Mechanic Service</a>
        <a href="tel:0800769000" class="contact-btn" onclick="trackConversion('more_options_call', 'Contact')">📞 Call 0800 769 000</a>
        <a href="/customer-escalation" class="contact-btn">💬 Customer Support</a>
        <a href="/find-me" class="contact-btn">📍 Find Me Tool</a>
      </div>
    </div>
    
    <div class="contact-section suppliers">
      <h3>🤝 For Suppliers & Partners</h3>
      <p>Join our mobile mechanic network or manage your existing partnership</p>
      <div class="contact-buttons">
        <a href="/supplier" class="contact-btn">🤝 Official Supplier Portal</a>
        <a href="/supplier-relations" class="contact-btn">📝 Supplier Relations</a>
        <a href="/supplier-terms" class="contact-btn">📋 Supplier Terms</a>
      </div>
    </div>
    
    <div class="contact-section admin">
      <h3>📋 Administrative & Legal</h3>
      <p>Privacy concerns, compliance issues, or official Eek Mobile Mechanical documents</p>
      <div class="contact-buttons">
        <a href="/mjuris" class="contact-btn">⚖️ Legal Authority</a>
        <a href="/privacy-report" class="contact-btn">🚨 Privacy Report</a>
        <a href="/privacy" class="contact-btn">🔒 Privacy Policy</a>
        <a href="/terms" class="contact-btn">🛡️ General Terms</a>
      </div>
    </div>
  </div>
</div>

<script>
// Booking functionality would go here
// This is a placeholder for the interactive booking system

let selectedDate = null;
let selectedTime = null;
let selectedLocation = '';
let reservationExpiry = null;
let slotsRemaining = {};
let bookingTimer = null;

// Initialize page
document.addEventListener('DOMContentLoaded', function() {
  updateFloatingButtons(1);
  
  // Check if user has been here before today
  const lastVisit = localStorage.getItem('eek_last_visit');
  const today = new Date().toDateString();
  
  if (lastVisit === today) {
    // Returning visitor today - reduce slots
    const existingSlots = localStorage.getItem('eek_slots_today');
    if (existingSlots) {
      slotsRemaining = JSON.parse(existingSlots);
      // Reduce all slots by 1, minimum 1
      Object.keys(slotsRemaining).forEach(key => {
        slotsRemaining[key] = Math.max(1, slotsRemaining[key] - 1);
      });
    } else {
      // Fallback if no existing slots
      generateRandomSlots();
    }
  } else {
    // New visitor or new day - generate random slots
    generateRandomSlots();
  }
  
  localStorage.setItem('eek_last_visit', today);
  localStorage.setItem('eek_slots_today', JSON.stringify(slotsRemaining));
});

function generateRandomSlots() {
  const times = ['7:00 AM', '8:00 AM', '9:00 AM', '10:00 AM', '11:00 AM', '12:00 PM', '1:00 PM', '2:00 PM', '3:00 PM', '4:00 PM'];
  times.forEach(time => {
    slotsRemaining[time] = Math.floor(Math.random() * 4) + 1; // 1-4 slots (never 0)
  });
}

function updateAvailabilityStatus() {
  const totalSlotsToday = Object.values(slotsRemaining).reduce((a, b) => a + b, 0);
  const alertDiv = document.getElementById('availabilityAlert');
  
  if (totalSlotsToday <= 6) {
    alertDiv.style.display = 'block';
    alertDiv.className = 'availability-alert urgent';
    alertDiv.innerHTML = `⚠️ High demand today! Only ${totalSlotsToday} inspection slots remaining. Popular times book out quickly.`;
  } else {
    alertDiv.style.display = 'block';
    alertDiv.className = 'availability-alert';
    alertDiv.innerHTML = `📅 ${totalSlotsToday} inspection slots available today. Book now to secure your preferred time.`;
  }
}

function showFloatingNav() {
  document.getElementById('floatingNav').style.display = 'flex';
}

function hideFloatingNav() {
  document.getElementById('floatingNav').style.display = 'none';
}

function updateFloatingButtons(step) {
  // Hide all floating button groups
  document.getElementById('floatingStep1Btn').style.display = 'none';
  document.getElementById('floatingStep2Btns').style.display = 'none';
  document.getElementById('floatingStep3Btns').style.display = 'none';
  
  // Show appropriate floating buttons for current step
  if (step === 1) {
    document.getElementById('floatingStep1Btn').style.display = 'flex';
    showFloatingNav();
  } else if (step === 2) {
    document.getElementById('floatingStep2Btns').style.display = 'flex';
    showFloatingNav();
    // Sync the disabled state with the main button
    const mainBtn = document.getElementById('confirmTimeBtn');
    const floatingBtn = document.getElementById('floatingConfirmTimeBtn');
    floatingBtn.disabled = mainBtn.disabled;
  } else if (step === 3) {
    document.getElementById('floatingStep3Btns').style.display = 'flex';
    showFloatingNav();
    // Sync terms checkbox state with floating book button
    syncBookingButtons();
  }
}

function goToStep1() {
  document.querySelectorAll('.step').forEach(s => s.classList.remove('active'));
  document.getElementById('step1').classList.add('active');
  updateProgress(1);
  updateFloatingButtons(1);
}

function goToStep2() {
  if (!validateLocationInput()) {
    return;
  }
  
  selectedLocation = document.getElementById('locationInput').value.trim();
  
  document.querySelectorAll('.step').forEach(s => s.classList.remove('active'));
  document.getElementById('step2').classList.add('active');
  updateProgress(2);
  updateFloatingButtons(2);
  initializeCalendars();
}

function goToStep3() {
  if (!validateDateTimeSelection()) {
    return;
  }
  
  if (!validateReservationExpiry()) {
    return;
  }
  
  document.querySelectorAll('.step').forEach(s => s.classList.remove('active'));
  document.getElementById('step3').classList.add('active');
  updateProgress(3);
  updateFloatingButtons(3);
  updateSummary();
  startReservationTimer();
}

function updateProgress(step) {
  document.querySelectorAll('.progress-step').forEach(s => s.classList.remove('active', 'completed'));
  
  for (let i = 1; i <= step; i++) {
    const stepElement = document.getElementById(`step${i}-progress`);
    if (i < step) {
      stepElement.classList.add('completed');
    } else if (i === step) {
      stepElement.classList.add('active');
    }
  }
}

function initializeCalendars() {
  console.log('Initializing calendars...');
  
  const today = new Date();
  const currentMonth = today.getMonth();
  const currentYear = today.getFullYear();
  const nextMonth = currentMonth === 11 ? 0 : currentMonth + 1;
  const nextYear = currentMonth === 11 ? currentYear + 1 : currentYear;
  
  // Add a small delay to ensure DOM elements are ready
  setTimeout(() => {
    generateCalendar(currentMonth, currentYear, 'currentCalendar');
    generateCalendar(nextMonth, nextYear, 'nextCalendar');
  }, 100);
  
  updateFloatingButtons(2);
}

function syncBookingButtons() {
  // Sync the terms checkbox state between main and floating book buttons
  const terms = document.getElementById('termsAgree');
  const mainBtn = document.getElementById('bookOnlineBtn');
  const floatingBtn = document.getElementById('floatingBookBtn');
  
  if (!terms || !mainBtn || !floatingBtn) return;
  
  function setEnabled(on) {
    // Update main button
    if (on) {
      mainBtn.setAttribute('href', mainBtn.getAttribute('data-href'));
      mainBtn.style.opacity = '';
      mainBtn.style.pointerEvents = '';
      
      floatingBtn.setAttribute('href', floatingBtn.getAttribute('data-href'));
      floatingBtn.style.opacity = '';
      floatingBtn.style.pointerEvents = '';
    } else {
      mainBtn.removeAttribute('href');
      mainBtn.style.opacity = '0.6';
      mainBtn.style.pointerEvents = 'none';
      
      floatingBtn.removeAttribute('href');
      floatingBtn.style.opacity = '0.6';
      floatingBtn.style.pointerEvents = 'none';
    }
  }
  
  // Start disabled; enable when terms are ticked
  setEnabled(false);
  terms.addEventListener('change', function () { setEnabled(terms.checked); }, false);
}

// Additional validation functions
function validateLocationInput() {
  const locationInput = document.getElementById('locationInput');
  const location = locationInput.value.trim();
  
  // Remove any existing validation styling
  locationInput.classList.remove('field-error');
  
  if (!location) {
    return false;
  }
  
  // Optional: Check for minimum length
  if (location.length < 3) {
    locationInput.classList.add('field-error');
    showNotification('Location too short', 'Please provide a more specific location (at least 3 characters).', 'error');
    
    locationInput.scrollIntoView({ behavior: 'smooth', block: 'center' });
    setTimeout(() => locationInput.focus(), 300);
    
    setTimeout(() => locationInput.classList.remove('field-error'), 3000);
    return false;
  }
  
  return true;
}

function validateDateTimeSelection() {
  if (!selectedDate && !selectedTime) {
    showNotification('Please select date and time', 'Choose a date from the calendar and then select your preferred appointment time.', 'error');
    
    const calendarContainer = document.querySelector('.calendar-container');
    if (calendarContainer) {
      calendarContainer.scrollIntoView({ behavior: 'smooth', block: 'center' });
    }
    return false;
  }
  
  if (!selectedDate) {
    showNotification('Please select a date', 'Choose your preferred date from the calendar above.', 'error');
    
    const calendarContainer = document.querySelector('.calendar-container');
    if (calendarContainer) {
      calendarContainer.scrollIntoView({ behavior: 'smooth', block: 'center' });
    }
    return false;
  }
  
  if (!selectedTime) {
    showNotification('Please select a time', 'Choose your preferred appointment time from the available slots.', 'error');
    
    const timeContainer = document.getElementById('timeSlotContainer');
    if (timeContainer) {
      timeContainer.scrollIntoView({ behavior: 'smooth', block: 'center' });
    }
    return false;
  }
  
  return true;
}

function validateReservationExpiry() {
  if (reservationExpiry && new Date() > reservationExpiry) {
    showNotification('Reservation expired', 'Your time slot reservation has expired. Please select a new time slot.', 'error');
    
    // Clear expired selection
    selectedTime = null;
    document.querySelectorAll('.time-slot.selected').forEach(el => el.classList.remove('selected'));
    
    // Disable confirm buttons
    const confirmBtn = document.getElementById('confirmTimeBtn');
    const floatingConfirmBtn = document.getElementById('floatingConfirmTimeBtn');
    if (confirmBtn) confirmBtn.disabled = true;
    if (floatingConfirmBtn) floatingConfirmBtn.disabled = true;
    
    // Go back to step 2
    goToStep2();
    return false;
  }
  return true;
}
function showNotification(title, message, type = 'info') {
  // Remove any existing notifications
  const existingNotification = document.querySelector('.notification');
  if (existingNotification) {
    existingNotification.remove();
  }
  
  // Create notification element
  const notification = document.createElement('div');
  notification.className = `notification ${type}`;
  
  const iconMap = {
    'error': '⚠️',
    'success': '✅', 
    'info': 'ℹ️',
    'warning': '⚠️'
  };
  
  notification.innerHTML = `
    <div class="notification-content">
      <div class="notification-icon">${iconMap[type] || '📋'}</div>
      <div class="notification-text">
        <strong>${title}</strong><br>
        ${message}
      </div>
      <button class="notification-close" onclick="hideNotification(this)">&times;</button>
    </div>
  `;
  
  // Add to page
  document.body.appendChild(notification);
  
  // Trigger animation
  setTimeout(() => {
    notification.classList.add('show');
  }, 100);
  
  // Auto-hide after 5 seconds
  setTimeout(() => {
    hideNotification(notification);
  }, 5000);
}

function hideNotification(element) {
  const notification = element.closest ? element.closest('.notification') : element;
  if (notification) {
    notification.classList.remove('show');
    setTimeout(() => {
      if (notification.parentNode) {
        notification.parentNode.removeChild(notification);
      }
    }, 400);
  }
}
function generateCalendar(month, year, containerId) {
  const monthNames = ["January", "February", "March", "April", "May", "June",
    "July", "August", "September", "October", "November", "December"];
  const dayNames = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];
  
  const firstDay = new Date(year, month, 1).getDay();
  const daysInMonth = new Date(year, month + 1, 0).getDate();
  const today = new Date();
  
  const container = document.getElementById(containerId);
  const calendar = container.querySelector('.calendar-grid');
  const header = container.querySelector('h4');
  
  header.textContent = `${monthNames[month]} ${year}`;
  calendar.innerHTML = '';
  
  // Add day headers
  dayNames.forEach(day => {
    const dayHeader = document.createElement('div');
    dayHeader.className = 'day-header';
    dayHeader.textContent = day;
    calendar.appendChild(dayHeader);
  });
  
  // Add empty cells for days before month starts
  for (let i = 0; i < firstDay; i++) {
    const emptyDay = document.createElement('div');
    emptyDay.className = 'day disabled';
    calendar.appendChild(emptyDay);
  }
  
  // Add days of the month
  for (let day = 1; day <= daysInMonth; day++) {
    const dayElement = document.createElement('div');
    dayElement.className = 'day';
    dayElement.textContent = day;
    
    const currentDate = new Date(year, month, day);
    const isPast = currentDate < today.setHours(0,0,0,0);
    
    if (isPast) {
      dayElement.classList.add('past');
    } else {
      dayElement.onclick = () => selectDate(year, month, day);
    }
    
    calendar.appendChild(dayElement);
  }
}

function selectDate(year, month, day) {
  // Remove previous selections
  document.querySelectorAll('.day.selected').forEach(el => el.classList.remove('selected'));
  
  // Mark selected day
  event.target.classList.add('selected');
  
  // Store selected date
  selectedDate = new Date(year, month, day);
  
  // Show time slots
  showTimeSlots();
  
  // Update display
  const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
  document.getElementById('selectedDateDisplay').textContent = selectedDate.toLocaleDateString('en-NZ', options);
}

function showTimeSlots() {
  const container = document.getElementById('timeSlotContainer');
  const slotsDiv = document.getElementById('timeSlots');
  
  container.style.display = 'block';
  
  // Different time slots based on day of week
  const dayOfWeek = selectedDate.getDay(); // 0 = Sunday, 6 = Saturday
  const isWeekend = dayOfWeek === 0 || dayOfWeek === 6; // Sunday or Saturday
  
  const weekdayTimes = ['7:00 AM', '8:00 AM', '9:00 AM', '10:00 AM', '11:00 AM', '12:00 PM', '1:00 PM', '2:00 PM', '3:00 PM', '4:00 PM'];
  const weekendTimes = ['7:00 AM', '8:00 AM', '9:00 AM', '10:00 AM', '11:00 AM', '12:00 PM'];
  
  const times = isWeekend ? weekendTimes : weekdayTimes;
  
  const now = new Date();
  const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());
  const isToday = selectedDate.getTime() === today.getTime();
  
  slotsDiv.innerHTML = '';
  
  times.forEach(time => {
    const slot = document.createElement('div');
    slot.className = 'time-slot';
    
    // Check if this time slot is within 2 hours from now (only for today)
    let isWithinTwoHours = false;
    if (isToday) {
      // Parse the time string to get hour
      const timeStr = time.replace(' AM', '').replace(' PM', '');
      let [hours, minutes] = timeStr.split(':').map(Number);
      
      // Convert to 24-hour format
      if (time.includes('PM') && hours !== 12) {
        hours += 12;
      } else if (time.includes('AM') && hours === 12) {
        hours = 0;
      }
      
      // Create a date object for this time slot today
      const slotTime = new Date(now.getFullYear(), now.getMonth(), now.getDate(), hours, minutes || 0);
      const twoHoursFromNow = new Date(now.getTime() + (2 * 60 * 60 * 1000));
      
      isWithinTwoHours = slotTime < twoHoursFromNow;
    }
    
    const remaining = slotsRemaining[time] || 1;
    
    if (remaining <= 2) {
      slot.classList.add('limited');
    }
    
    if (isWithinTwoHours) {
      slot.classList.add('past'); // Reuse the 'past' styling
      slot.style.cursor = 'not-allowed';
      slot.innerHTML = `
        <div>${time}</div>
        <div class="availability">Too soon</div>
      `;
    } else {
      slot.innerHTML = `
        <div>${time}</div>
        <div class="availability">${remaining} slot${remaining === 1 ? '' : 's'} left</div>
      `;
      slot.onclick = () => selectTimeSlot(time, slot);
    }
    
    slotsDiv.appendChild(slot);
  });
  
  // Update availability alert after showing time slots
  updateAvailabilityStatus();
}

function selectTimeSlot(time, element) {
  // Remove previous selections
  document.querySelectorAll('.time-slot.selected').forEach(el => el.classList.remove('selected'));
  
  // Mark selected slot
  element.classList.add('selected');
  
  // Store selected time
  selectedTime = time;
  
  // Start reservation timer (10 minutes)
  reservationExpiry = new Date(Date.now() + 10 * 60 * 1000);
  
  // Enable confirm button
  const confirmBtn = document.getElementById('confirmTimeBtn');
  const floatingConfirmBtn = document.getElementById('floatingConfirmTimeBtn');
  
  confirmBtn.disabled = false;
  if (floatingConfirmBtn) {
    floatingConfirmBtn.disabled = false;
  }
}

function updateSummary() {
  const location = document.getElementById('locationInput').value;
  document.getElementById('summaryLocation').textContent = location;
  
  if (selectedDate) {
    const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
    document.getElementById('summaryDate').textContent = selectedDate.toLocaleDateString('en-NZ', options);
  }
  
  document.getElementById('summaryTime').textContent = selectedTime || 'Not selected';
}

function startReservationTimer() {
  // 10 minute timer (not 15 like the original had)
  const endTime = new Date().getTime() + (10 * 60 * 1000);
  
  if (bookingTimer) {
    clearInterval(bookingTimer);
  }
  
  bookingTimer = setInterval(() => {
    const now = new Date().getTime();
    const distance = endTime - now;
    
    if (distance < 0) {
      clearInterval(bookingTimer);
      document.getElementById('reservationTimer').innerHTML = 'EXPIRED';
      document.getElementById('reservationTimer').style.color = '#dc3545';
      return;
    }
    
    const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
    const seconds = Math.floor((distance % (1000 * 60)) / 1000);
    
    const timerElement = document.getElementById('reservationTimer');
    timerElement.innerHTML = `${minutes}:${seconds.toString().padStart(2, '0')}`;
    
    // Turn red when less than 2 minutes remaining
    if (distance < 2 * 60 * 1000) {
      timerElement.style.color = '#dc3545';
    }
  }, 1000);
}

function trackConversion(event, category) {
  // Analytics tracking would go here
  console.log(`Tracking: ${event} in ${category}`);
}

// Initialize floating buttons on page load
document.addEventListener('DOMContentLoaded', function() {
  updateFloatingButtons(1);
});
</script>

</body>
</html>
