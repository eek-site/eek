<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Supplier Portal - Join Eek Mechanical Network | NZ-Wide Coverage</title>
  <meta name="description" content="Join Eek Mechanical's nationwide supplier network with 353+ vetted mechanics. Provide mobile mechanic services, trailer repairs, inspections, and roadside assistance across New Zealand. Apply to become a certified supplier today." />
  <meta name="keywords" content="mobile mechanic supplier, roadside assistance contractor, trailer repair network, mechanic partnership NZ, automotive service provider, mobile repair franchise" />
  <meta property="og:title" content="Supplier Portal - Join Eek Mechanical Network" />
  <meta property="og:description" content="Partner with Eek Mechanical to provide mobile mechanic services nationwide. Fast dispatch, competitive rates, and growing demand." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://www.eek.nz/supplier" />
  <meta property="og:image" content="https://www.eek.nz/supplier-og-image.jpg" />

  <!-- Security Headers -->
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://www.googletagmanager.com https://www.google-analytics.com https://www.redditstatic.com https://googleads.g.doubleclick.net https://static.cloudflareinsights.com; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; connect-src 'self' https://www.google-analytics.com https://www.redditstatic.com https://pixel-config.reddit.com https://conversions-config.reddit.com https://www.googletagmanager.com https://googleads.g.doubleclick.net https://www.google.com https://www.googleadservices.com https://www.google.hn https://default61ffc6bcd9ce458b8120d32187c377.0d.environment.api.powerplatform.com https://static.cloudflareinsights.com; frame-src 'self' https://td.doubleclick.net https://www.googletagmanager.com;">
  <meta http-equiv="X-Content-Type-Options" content="nosniff">
  <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
  <meta http-equiv="Permissions-Policy" content="geolocation=(), microphone=(), camera=()">

  <!-- Reddit Pixel -->
  <script>
    !function(w,d){if(!w.rdt){var p=w.rdt=function(){p.sendEvent?p.sendEvent.apply(p,arguments):p.callQueue.push(arguments)};p.callQueue=[];var t=d.createElement("script");t.src="https://www.redditstatic.com/ads/pixel.js",t.async=!0;var s=d.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}}
    (window,document);
    
    // Extract user data for enhanced tracking
    function getEmailFromForm() {
      const urlParams = new URLSearchParams(window.location.search);
      const emailParam = urlParams.get('email');
      if (emailParam) return emailParam;
      
      const emailInputs = document.querySelectorAll('input[type="email"], input[name*="email"], input[id*="email"]');
      for (let input of emailInputs) {
        if (input.value && input.value.includes('@')) {
          return input.value;
        }
      }
      return null;
    }
    
    function getPhoneFromForm() {
      const urlParams = new URLSearchParams(window.location.search);
      const phoneParam = urlParams.get('phone');
      if (phoneParam) return phoneParam;
      
      const phoneInputs = document.querySelectorAll('input[type="tel"], input[name*="phone"], input[id*="phone"]');
      for (let input of phoneInputs) {
        if (input.value) {
          return input.value;
        }
      }
      return null;
    }
    
    function getUserId() {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get('uid') || urlParams.get('user_id') || urlParams.get('supplier_id');
    }
    
    function getMobileIds() {
      const urlParams = new URLSearchParams(window.location.search);
      return {
        idfa: urlParams.get('idfa'),
        aaid: urlParams.get('aaid')
      };
    }
    
    const mobileIds = getMobileIds();
    const initConfig = {};
    
    const email = getEmailFromForm();
    const phoneNumber = getPhoneFromForm();
    const externalId = getUserId();
    
    if (email) initConfig.email = email;
    if (phoneNumber) initConfig.phoneNumber = phoneNumber;
    if (externalId) initConfig.externalId = externalId;
    if (mobileIds.idfa) initConfig.idfa = mobileIds.idfa;
    if (mobileIds.aaid) initConfig.aaid = mobileIds.aaid;
    
    rdt('init', 'a2_hf16791nsdhx', Object.keys(initConfig).length > 0 ? initConfig : undefined);
    rdt('track', 'PageVisit');
  </script>

  <!-- Google tag (gtag.js) for Google Ads Conversion Tracking -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=AW-17084465163"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'AW-17084465163');
    gtag('config', 'G-DQNKF1YLWR');
  </script>
  
  <!-- Centralized Phone Number Management -->
  <script src="/phone-manager.js"></script>
  
  <!-- Centralized Tracking Management -->
  <script src="/tracking-manager.js"></script>
  
  <!-- Unified Tracking System -->
  <script src="/unified-tracking.js?v=20250115"></script>
  
  <!-- Centralized Footer Management -->
  <script src="/footer.js?v=1760831190"></script>

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "Eek Mechanical Supplier Network",
    "description": "Join New Zealand's premier mobile mechanic network. Providing roadside assistance, inspections, and repair services nationwide.",
    "telephone": "+64800769000",
    "url": "https://www.eek.nz/supplier",
    "parentOrganization": {
      "@type": "LocalBusiness",
      "name": "Eek Mechanical"
    },
    "areaServed": {
      "@type": "Country",
      "name": "New Zealand"
    }
  }
  </script>

  <link rel="icon" type="image/x-icon" href="../favicon.ico">
  
  <style>
    :root {
      /* Brand Colors */
      --primary: #ff5500;
      --primary-light: #ff7733;
      --primary-dark: #e04400;
      --secondary: #28a745;
      --secondary-light: #20c997;
      --accent: #17a2b8;
      --danger: #dc3545;
      --warning: #ffc107;
      --info: #17a2b8;
      --light: #f8f9fa;
      --dark: #343a40;
      
      /* Neutral Colors */
      --white: #ffffff;
      --gray-100: #f8f9fa;
      --gray-200: #e9ecef;
      --gray-300: #dee2e6;
      --gray-400: #ced4da;
      --gray-500: #adb5bd;
      --gray-600: #6c757d;
      --gray-700: #495057;
      --gray-800: #343a40;
      --gray-900: #212529;
      
      /* Typography */
      --font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      --font-size-base: 1rem;
      --font-size-sm: 0.875rem;
      --font-size-lg: 1.125rem;
      --font-size-xl: 1.25rem;
      --font-size-2xl: 1.5rem;
      --font-size-3xl: 1.875rem;
      --font-size-4xl: 2.25rem;
      
      /* Spacing */
      --spacing-1: 0.25rem;
      --spacing-2: 0.5rem;
      --spacing-3: 0.75rem;
      --spacing-4: 1rem;
      --spacing-5: 1.25rem;
      --spacing-6: 1.5rem;
      --spacing-8: 2rem;
      --spacing-10: 2.5rem;
      --spacing-12: 3rem;
      --spacing-16: 4rem;
      --spacing-20: 5rem;
      
      /* Border Radius */
      --border-radius-sm: 0.25rem;
      --border-radius: 0.5rem;
      --border-radius-lg: 0.75rem;
      --border-radius-xl: 1rem;
      --border-radius-2xl: 1.5rem;
      --border-radius-full: 9999px;
      
      /* Shadows */
      --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
      --shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
      --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
      --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
      --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
      
      /* Transitions */
      --transition-fast: 0.15s ease-in-out;
      --transition: 0.3s ease-in-out;
      --transition-slow: 0.5s ease-in-out;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: var(--font-family);
      background: linear-gradient(135deg, var(--gray-100) 0%, var(--gray-200) 100%);
      color: var(--gray-800);
      line-height: 1.6;
      font-size: var(--font-size-base);
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }

    /* Header */
    .header {
      background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
      color: var(--white);
      padding: var(--spacing-20) 0;
      position: relative;
      overflow: hidden;
      box-shadow: var(--shadow-xl);
    }

    .header::before {
      content: '';
      position: absolute;
      top: -50%;
      right: -50%;
      width: 200%;
      height: 200%;
      background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="2" fill="rgba(255,255,255,0.1)"/></svg>') repeat;
      animation: float 20s infinite linear;
    }

    @keyframes float {
      0% { transform: translateX(0) translateY(0); }
      100% { transform: translateX(-100px) translateY(-100px); }
    }

    .header-content {
      position: relative;
      z-index: 2;
      text-align: center;
    }

    .logo {
      max-width: 200px;
      height: auto;
      margin-bottom: 20px;
      filter: brightness(0) invert(1);
    }

    .header h1 {
      font-size: 3em;
      margin-bottom: 20px;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
    }

    .header .subtitle {
      font-size: 1.3em;
      opacity: 0.9;
      margin-bottom: 30px;
    }

    .cta-button {
      display: inline-block;
      background: rgba(255,255,255,0.2);
      backdrop-filter: blur(10px);
      color: white;
      padding: 15px 30px;
      font-size: 1.1em;
      border: 2px solid rgba(255,255,255,0.3);
      border-radius: 50px;
      text-decoration: none;
      transition: all 0.3s ease;
      box-shadow: 0 8px 32px rgba(0,0,0,0.1);
    }

    .cta-button:hover {
      background: rgba(255,255,255,0.3);
      transform: translateY(-2px);
      box-shadow: 0 12px 40px rgba(0,0,0,0.2);
    }

    /* Navigation */
    .nav {
      background: rgba(255,255,255,0.95);
      backdrop-filter: blur(10px);
      position: sticky;
      top: 0;
      z-index: 100;
      box-shadow: 0 2px 20px rgba(0,0,0,0.1);
    }

    .nav-content {
      display: flex;
      justify-content: center;
      padding: 15px 0;
    }

    .nav a {
      color: #333;
      text-decoration: none;
      margin: 0 25px;
      font-weight: 500;
      transition: color 0.3s ease;
      position: relative;
    }

    .nav a:hover {
      color: #ff5500;
    }

    .nav a::after {
      content: '';
      position: absolute;
      bottom: -5px;
      left: 0;
      width: 0;
      height: 2px;
      background: #ff5500;
      transition: width 0.3s ease;
    }

    .nav a:hover::after {
      width: 100%;
    }

    /* Sections */
    .section {
      padding: 80px 0;
    }

    .section-title {
      text-align: center;
      font-size: 2.5em;
      margin-bottom: 20px;
      color: #333;
    }

    .section-subtitle {
      text-align: center;
      font-size: 1.2em;
      color: #666;
      margin-bottom: 60px;
      max-width: 800px;
      margin-left: auto;
      margin-right: auto;
    }

    /* Services Grid */
    .services-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 30px;
      margin-top: 40px;
    }

    .service-card {
      background: white;
      border-radius: 20px;
      padding: 40px 30px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.1);
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .service-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 4px;
      background: linear-gradient(90deg, #ff5500, #ff7700);
    }

    .service-card:hover {
      transform: translateY(-10px);
      box-shadow: 0 20px 60px rgba(0,0,0,0.15);
    }

    .service-icon {
      font-size: 3em;
      margin-bottom: 20px;
      display: block;
    }

    .service-card h3 {
      font-size: 1.5em;
      margin-bottom: 15px;
      color: #333;
    }

    .service-card p {
      color: #666;
      margin-bottom: 20px;
    }

    .service-features {
      list-style: none;
    }

    .service-features li {
      padding: 8px 0;
      border-bottom: 1px solid #eee;
      color: #555;
    }

    .service-features li:last-child {
      border-bottom: none;
    }

    /* Requirements Section */
    .requirements {
      background: white;
    }

    .requirements-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 30px;
      margin-top: 40px;
    }

    .requirement-item {
      background: #f8f9fa;
      border-radius: 15px;
      padding: 30px;
      border-left: 5px solid #ff5500;
      transition: all 0.3s ease;
    }

    .requirement-item:hover {
      background: #fff;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    }

    .requirement-item h4 {
      color: #ff5500;
      font-size: 1.3em;
      margin-bottom: 15px;
    }

    /* Application Form */
    .application-form {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
    }

    .form-container {
      background: rgba(255,255,255,0.1);
      backdrop-filter: blur(10px);
      border-radius: 20px;
      padding: 50px;
      max-width: 600px;
      margin: 0 auto;
    }

    .form-group {
      margin-bottom: 25px;
    }

    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
    }

    .form-group input,
    .form-group select,
    .form-group textarea {
      width: 100%;
      padding: 15px;
      border: none;
      border-radius: 10px;
      background: rgba(255,255,255,0.9);
      font-size: 1em;
      transition: all 0.3s ease;
    }

    .form-group input:focus,
    .form-group select:focus,
    .form-group textarea:focus {
      outline: none;
      background: white;
      box-shadow: 0 0 20px rgba(255,255,255,0.3);
    }

    .submit-btn {
      background: #ff5500;
      color: white;
      padding: 15px 40px;
      border: none;
      border-radius: 50px;
      font-size: 1.1em;
      cursor: pointer;
      transition: all 0.3s ease;
      width: 100%;
    }

    .submit-btn:hover {
      background: #ff7700;
      transform: translateY(-2px);
      box-shadow: 0 10px 30px rgba(255,85,0,0.3);
    }

    /* Footer */
    .footer {
      background: #333;
      color: white;
      padding: 40px 0;
      text-align: center;
    }

    .footer a {
      color: #ff5500;
      text-decoration: none;
    }

    /* Debug Info */
    .debug-info {
      position: fixed;
      top: 10px;
      left: 10px;
      background: rgba(0,0,0,0.8);
      color: white;
      padding: 10px;
      font-size: 12px;
      border-radius: 5px;
      z-index: 9999;
      display: none; /* Change to 'block' to enable debugging */
    }

    /* Mobile Responsive */
    @media (max-width: 768px) {
      .header h1 {
        font-size: 2em;
      }
      
      .services-grid {
        grid-template-columns: 1fr;
      }
      
      .form-container {
        padding: 30px 20px;
      }
      
      .nav-content {
        flex-direction: column;
        gap: 10px;
      }
    }

    /* Smooth scrolling */
    html {
      scroll-behavior: smooth;
    }
  </style>
</head>
<body>
  <!-- Debug Info Panel -->
  <div class="debug-info" id="debugInfo">
    <div>Page: Supplier Portal</div>
    <div>Session ID: <span id="debugSessionId">Loading...</span></div>
    <div>GCLID: <span id="debugGclid">None</span></div>
    <div>Supplier Type: <span id="debugSupplierType">New</span></div>
    <div>Service Interest: <span id="debugServiceInterest">General</span></div>
  </div>

<header class="header">
  <div class="container">
    <img src="/brand-image.png" alt="Eek Mechanical - Emergency Roadside Services" style="max-width: 300px; height: auto; border-radius: 12px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); margin: 0 auto 20px auto; display: block;" />
    <div class="header-content">
      <h1>Join the Eek Supplier Network</h1>
      <p class="subtitle">Partner with New Zealand's fastest-growing mobile mechanic service - 353+ vetted mechanics supporting local communities nationwide</p>
      <a href="#application" class="cta-button" data-track="header_apply_now" onclick="trackInteraction(this)">Apply Now</a>
    </div>
  </div>
</header>

<nav class="nav">
  <div class="container">
    <div class="nav-content">
      <a href="#services" data-track="nav_services" onclick="trackInteraction(this)">Services</a>
      <a href="#requirements" data-track="nav_requirements" onclick="trackInteraction(this)">Requirements</a>
      <a href="#benefits" data-track="nav_benefits" onclick="trackInteraction(this)">Benefits</a>
      <a href="#existing-suppliers" data-track="nav_existing_suppliers" onclick="trackInteraction(this)">Current Suppliers</a>
      <a href="#application" data-track="nav_application" onclick="trackInteraction(this)">Apply</a>
      <a href="tel:+6498724612" class="phone-link" data-track="nav_phone_call" onclick="trackInteraction(this)">+64 9 872 4612</a>
    </div>
  </div>
</nav>

<section id="services" class="section">
  <div class="container">
    <h2 class="section-title">Service Areas We Need Suppliers For</h2>
    <p class="section-subtitle">Eek Mechanical is rapidly expanding across New Zealand. We need reliable, skilled suppliers to help deliver our signature 30-60 minute response times nationwide.</p>
    
    <!-- Urgency Banner -->
    <div style="background: linear-gradient(135deg, #dc3545, #c82333); color: white; padding: 20px; border-radius: 12px; margin: 30px 0; text-align: center; box-shadow: 0 4px 12px rgba(220,53,69,0.3);">
      <strong style="font-size: 1.3em;">⚡ URGENT: We're actively recruiting mechanics nationwide - Apply now for immediate consideration</strong>
      <p style="margin: 10px 0 0 0; font-size: 1.1em; opacity: 0.9;">Join 353+ mechanics already earning with us - Upfront payment, flexible hours, local work</p>
    </div>
    
    <!-- Business Model Explanation -->
    <div style="background: linear-gradient(135deg, var(--info), var(--accent)); color: var(--white); padding: var(--spacing-12); border-radius: var(--border-radius-2xl); margin: var(--spacing-8) 0; box-shadow: var(--shadow-lg);">
      <h3 style="color: var(--white); margin-bottom: var(--spacing-6); font-size: var(--font-size-3xl); text-align: center;">How Our Business Model Works</h3>
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: var(--spacing-6);">
        <div style="background: rgba(255,255,255,0.1); padding: var(--spacing-6); border-radius: var(--border-radius-xl); backdrop-filter: blur(10px);">
          <h4 style="color: var(--white); margin-bottom: var(--spacing-4); font-size: var(--font-size-xl);">🎯 Customer Calls Us</h4>
          <p style="color: rgba(255,255,255,0.9); margin-bottom: var(--spacing-4);">Customers call our freecall number or book online. They select their service (breakdown, battery, wrong fuel, etc.) and provide their location.</p>
        </div>
        <div style="background: rgba(255,255,255,0.1); padding: var(--spacing-6); border-radius: var(--border-radius-xl); backdrop-filter: blur(10px);">
          <h4 style="color: var(--white); margin-bottom: var(--spacing-4); font-size: var(--font-size-xl);">📍 We Find You</h4>
          <p style="color: rgba(255,255,255,0.9); margin-bottom: var(--spacing-4);">Our dispatch system finds the closest available mechanic (typically within 10 minutes) and sends you the job details via SMS.</p>
        </div>
        <div style="background: rgba(255,255,255,0.1); padding: var(--spacing-6); border-radius: var(--border-radius-xl); backdrop-filter: blur(10px);">
          <h4 style="color: var(--white); margin-bottom: var(--spacing-4); font-size: var(--font-size-xl);">🔧 You Complete the Job</h4>
          <p style="color: rgba(255,255,255,0.9); margin-bottom: var(--spacing-4);">You arrive, complete the service, and we handle all customer communication. We've already taken payment from the customer upfront.</p>
        </div>
        <div style="background: rgba(255,255,255,0.1); padding: var(--spacing-6); border-radius: var(--border-radius-xl); backdrop-filter: blur(10px);">
          <h4 style="color: var(--white); margin-bottom: var(--spacing-4); font-size: var(--font-size-xl);">💰 You Get Paid Upfront</h4>
          <p style="color: rgba(255,255,255,0.9); margin-bottom: var(--spacing-4);">We pay you upfront before you start the job. No waiting for customer payment - we handle all the payment processing and admin.</p>
        </div>
      </div>
      <div style="text-align: center; margin-top: var(--spacing-8);">
        <p style="font-size: var(--font-size-lg); color: rgba(255,255,255,0.9); margin-bottom: var(--spacing-4);">
          <strong>Simple, transparent, and profitable.</strong> You focus on the work, we handle the rest.
        </p>
        <div style="display: flex; gap: var(--spacing-4); justify-content: center; flex-wrap: wrap;">
          <span style="background: rgba(255,255,255,0.2); padding: var(--spacing-2) var(--spacing-4); border-radius: var(--border-radius-full); font-size: var(--font-size-sm);">
            ✅ 353+ mechanics nationwide
          </span>
          <span style="background: rgba(255,255,255,0.2); padding: var(--spacing-2) var(--spacing-4); border-radius: var(--border-radius-full); font-size: var(--font-size-sm);">
            ✅ 30-60 minute response times
          </span>
          <span style="background: rgba(255,255,255,0.2); padding: var(--spacing-2) var(--spacing-4); border-radius: var(--border-radius-full); font-size: var(--font-size-sm);">
            ✅ Upfront payment
          </span>
        </div>
      </div>
    </div>
    
    <div class="services-grid">
      <div class="service-card">
        <span class="service-icon">🚨</span>
        <h3>Emergency Breakdown Services</h3>
        <p>Professional roadside assistance for stranded motorists with diagnostic tools and on-site repairs.</p>
        <ul class="service-features">
          <li>Professional diagnostic scanning</li>
          <li>On-site repairs for common issues</li>
          <li>Fully equipped mobile workshop</li>
          <li>30-60 minute response target</li>
        </ul>
      </div>

      <div class="service-card">
        <span class="service-icon">🔋</span>
        <h3>Jump Start Services</h3>
        <p>Provide fast battery boost services with professional equipment and safety protocols.</p>
        <ul class="service-features">
          <li>Compatible with all vehicle makes/models</li>
          <li>Battery health diagnostics included</li>
          <li>Safe jump-start procedures</li>
          <li>30-60 minute response target</li>
        </ul>
      </div>

      <div class="service-card">
        <span class="service-icon">⛽</span>
        <h3>Wrong Fuel Emergency</h3>
        <p>Critical fuel extraction services for petrol in diesel or diesel in petrol emergencies.</p>
        <ul class="service-features">
          <li>Professional fuel extraction equipment</li>
          <li>Prevent engine damage protocols</li>
          <li>Emergency response procedures</li>
          <li>30-60 minute response target</li>
        </ul>
      </div>

      <div class="service-card">
        <span class="service-icon">🔍</span>
        <h3>Pre-Purchase Inspections</h3>
        <p>Comprehensive 45-point vehicle inspections at seller or dealership locations.</p>
        <ul class="service-features">
          <li>Certified inspection protocols</li>
          <li>Detailed reporting system</li>
          <li>$199 fixed rate service</li>
          <li>Professional documentation</li>
        </ul>
      </div>
    </div>
  </div>
</section>

<section id="requirements" class="section requirements">
  <div class="container">
    <h2 class="section-title">Supplier Requirements</h2>
    <p class="section-subtitle">To maintain Eek's reputation for quality and reliability, all suppliers must meet our stringent standards.</p>
    
    <div class="requirements-grid">
      <div class="requirement-item">
        <h4>Professional Qualifications</h4>
        <p>Trade certifications, automotive qualifications, or equivalent experience in mobile mechanics, roadside assistance, or automotive repair services.</p>
      </div>

      <div class="requirement-item">
        <h4>Insurance & Compliance</h4>
        <p>Comprehensive public liability insurance, professional indemnity cover, and full compliance with New Zealand health and safety regulations.</p>
      </div>

      <div class="requirement-item">
        <h4>Professional Equipment</h4>
        <p>Fully equipped service vehicle with professional tools, diagnostic equipment, safety gear, and branded presentation materials.</p>
      </div>

      <div class="requirement-item">
        <h4>Geographic Coverage</h4>
        <p>Ability to service designated coverage areas within our 30-60 minute response time targets, including rural and urban locations.</p>
      </div>

      <div class="requirement-item">
        <h4>Technology Integration</h4>
        <p>Smartphone with reliable internet connection for our dispatch system, GPS tracking, photo reporting, and real-time communication.</p>
      </div>

      <div class="requirement-item">
        <h4>Customer Service Excellence</h4>
        <p>Proven track record of professional customer service, clear communication skills, and commitment to the Eek brand standards.</p>
      </div>

      <div class="requirement-item">
        <h4>Response Time Commitment</h4>
        <p>Ability to consistently meet our 30-60 minute response targets and maintain high availability during peak demand periods.</p>
      </div>

      <div class="requirement-item">
        <h4>Business Operations</h4>
        <p>Registered business entity, GST registration, reliable invoicing systems, and professional business practices.</p>
      </div>
    </div>
  </div>
</section>

<section id="existing-suppliers" class="section">
  <div class="container">
    <h2 class="section-title">Current Suppliers</h2>
    <p class="section-subtitle">Already part of the Eek network? Access your supplier tools and resources here.</p>
    
    <div class="services-grid">
      <div class="service-card" style="border-left: 5px solid #28a745;">
        <span class="service-icon">📁</span>
        <h3>Upload Documents</h3>
        <p>Submit invoices, job sheets, certificates, and other required documentation through our secure portal.</p>
        <ul class="service-features">
          <li>Secure SSL encrypted uploads</li>
          <li>Multiple file format support</li>
          <li>Real-time upload confirmation</li>
          <li>2-5 business day processing</li>
        </ul>
        <div style="margin-top: 20px;">
          <a href="/supplier-upload" 
             style="background: #28a745; color: white; padding: 12px 24px; border-radius: 25px; text-decoration: none; font-weight: 500; transition: all 0.3s ease; display: inline-block;"
             data-track="existing_supplier_upload"
             onclick="trackInteraction(this)"
             onmouseover="this.style.background='#218838'"
             onmouseout="this.style.background='#28a745'">
            Upload Documents Now
          </a>
        </div>
      </div>

      <div class="service-card" style="border-left: 5px solid #007bff;">
        <span class="service-icon">📞</span>
        <h3>Supplier Support</h3>
        <p>Get help with jobs, payments, technical issues, or general supplier account questions.</p>
        <ul class="service-features">
          <li>24/7 dispatch support</li>
          <li>Payment inquiries</li>
          <li>Technical assistance</li>
          <li>Account management</li>
        </ul>
        <div style="margin-top: 20px;">
          <a href="tel:+6498724612" 
             class="phone-link"
             style="background: #007bff; color: white; padding: 12px 24px; border-radius: 25px; text-decoration: none; font-weight: 500; transition: all 0.3s ease; display: inline-block;"
             data-track="existing_supplier_support_call"
             onclick="trackInteraction(this)"
             onmouseover="this.style.background='#0056b3'"
             onmouseout="this.style.background='#007bff'">
            Call Support
          </a>
        </div>
      </div>

      <div class="service-card" style="border-left: 5px solid #ff5500;">
        <span class="service-icon">📋</span>
        <h3>Supplier Relations</h3>
        <p>Access forms for availability updates, service area changes, or general supplier inquiries.</p>
        <ul class="service-features">
          <li>Availability notifications</li>
          <li>Service area updates</li>
          <li>Account modifications</li>
          <li>Partnership inquiries</li>
        </ul>
        <div style="margin-top: 20px;">
          <a href="/supplier-relations" 
             style="background: #ff5500; color: white; padding: 12px 24px; border-radius: 25px; text-decoration: none; font-weight: 500; transition: all 0.3s ease; display: inline-block;"
             data-track="existing_supplier_relations"
             onclick="trackInteraction(this)"
             onmouseover="this.style.background='#e04400'"
             onmouseout="this.style.background='#ff5500'">
            Access Forms
          </a>
        </div>
      </div>

      <div class="service-card" style="border-left: 5px solid #6f42c1;">
        <span class="service-icon">📚</span>
        <h3>Resources & Training</h3>
        <p>Access supplier handbooks, training materials, and important policy updates.</p>
        <ul class="service-features">
          <li>Supplier handbook access</li>
          <li>Training resources</li>
          <li>Policy updates</li>
          <li>Best practice guides</li>
        </ul>
        <div style="margin-top: 20px;">
          <a href="/supplier-terms" 
             target="_blank"
             style="background: #6f42c1; color: white; padding: 12px 24px; border-radius: 25px; text-decoration: none; font-weight: 500; transition: all 0.3s ease; display: inline-block;"
             data-track="existing_supplier_resources"
             onclick="trackInteraction(this)"
             onmouseover="this.style.background='#5a32a3'"
             onmouseout="this.style.background='#6f42c1'">
            View Resources
          </a>
        </div>
      </div>
    </div>

    <div style="background: linear-gradient(135deg, #28a745, #20c997); color: white; padding: 40px; border-radius: 20px; margin-top: 40px; text-align: center;">
      <h3 style="color: white; margin-bottom: 20px; border: none;">Already a Supplier?</h3>
      <p style="font-size: 1.1em; margin-bottom: 25px; opacity: 0.95;">
        Thank you for being part of the Eek Mechanical network! Use the tools above to manage your supplier account, submit documents, and access support.
      </p>
      <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
        <a href="/supplier-upload" 
           style="background: rgba(255,255,255,0.2); color: white; padding: 12px 25px; border-radius: 25px; text-decoration: none; border: 2px solid rgba(255,255,255,0.3); transition: all 0.3s ease;"
           data-track="existing_supplier_upload_quick"
           onclick="trackInteraction(this)"
           onmouseover="this.style.background='rgba(255,255,255,0.3)'"
           onmouseout="this.style.background='rgba(255,255,255,0.2)'">
          Upload Documents
        </a>
        <a href="tel:+6498724612" 
           class="phone-link"
           style="background: rgba(255,255,255,0.2); color: white; padding: 12px 25px; border-radius: 25px; text-decoration: none; border: 2px solid rgba(255,255,255,0.3); transition: all 0.3s ease;"
           data-track="existing_supplier_support_quick"
           onclick="trackInteraction(this)"
           onmouseover="this.style.background='rgba(255,255,255,0.3)'"
           onmouseout="this.style.background='rgba(255,255,255,0.2)'">
          Get Support
        </a>
      </div>
    </div>
  </div>
</section>

<section id="benefits" class="section">
  <div class="container">
    <h2 class="section-title">Why Partner With Eek?</h2>
    <p class="section-subtitle">Join New Zealand's fastest-growing mobile mechanic network with 353+ vetted mechanics and grow your business with us.</p>
    
    <div class="services-grid">
      <div class="service-card">
        <span class="service-icon">📈</span>
        <h3>Growing Demand</h3>
        <p>Benefit from our expanding customer base and increasing demand for mobile services across New Zealand. We're building a network that gives customers a choice - why feed the $864M+ corporate machine when you can support family-owned garages that actually care about their community? Every job we dispatch supports local mechanics and keeps money in New Zealand communities.</p>
      </div>

      <div class="service-card">
        <span class="service-icon">💰</span>
        <h3>Upfront Payment</h3>
        <p>We pay you upfront before you start the job. No waiting for customer payment - we handle all payment processing and admin.</p>
      </div>

      <div class="service-card">
        <span class="service-icon">🎯</span>
        <h3>Consistent Work</h3>
        <p>Steady stream of jobs through our centralized dispatch system. Most jobs are within 10 minutes of your location, maximizing efficiency.</p>
      </div>

      <div class="service-card">
        <span class="service-icon">🛠️</span>
        <h3>Full Support</h3>
        <p>We handle customer communication, payment processing, and dispute resolution. You focus on the work, we handle the rest.</p>
      </div>

      <div class="service-card">
        <span class="service-icon">🏷️</span>
        <h3>Brand Recognition</h3>
        <p>Leverage the growing Eek brand and our marketing efforts. We're building a premium service that supports local family-owned garages.</p>
      </div>

      <div class="service-card">
        <span class="service-icon">📱</span>
        <h3>Modern Technology</h3>
        <p>Access to our advanced dispatch system, real-time job updates, and digital payment processing. All jobs sent via SMS with customer details.</p>
      </div>
    </div>
  </div>
</section>

<section id="application" class="section application-form">
  <div class="container">
    <h2 class="section-title">Apply to Join Our Network</h2>
    <p class="section-subtitle">Ready to partner with Eek? Complete our application form and we'll be in touch within 48 hours.</p>
    
    <div class="form-container">
      <div class="terms-notice" style="background: rgba(255,255,255,0.15); padding: 20px; border-radius: 10px; margin-bottom: 30px; border-left: 4px solid #ffd700;">
        <h3 style="color: white; margin-bottom: 15px;">Before You Apply</h3>
        <p style="color: rgba(255,255,255,0.9); margin-bottom: 15px;">All suppliers must review and agree to our Supplier Terms before submitting an application.</p>
        <div style="display: flex; gap: 15px; flex-wrap: wrap; justify-content: center;">
          <a href="/supplier-terms" 
             target="_blank" 
             style="background: rgba(255,255,255,0.2); color: white; padding: 12px 20px; border-radius: 25px; text-decoration: none; border: 2px solid rgba(255,255,255,0.3); transition: all 0.3s ease;"
             data-track="supplier_terms_review"
             onclick="trackInteraction(this)"
             onmouseover="this.style.background='rgba(255,255,255,0.3)'"
             onmouseout="this.style.background='rgba(255,255,255,0.2)'">
            Review Supplier Terms
          </a>
        </div>
      </div>

      <div class="application-form-content">
        <div class="form-group">
          <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
            <input type="checkbox" id="termsAccepted" style="transform: scale(1.3);" required>
            <span>I have read and agree to the 
              <a href="/supplier-terms" 
                 target="_blank" 
                 style="color: #ffd700; text-decoration: underline;"
                 data-track="supplier_terms_link"
                 onclick="trackInteraction(this)">
                Supplier Terms and Conditions
              </a> *
            </span>
          </label>
        </div>

        <button id="proceedToApplication" 
                style="background: #ff5500; color: white; padding: 15px 40px; border: none; border-radius: 50px; font-size: 1.1em; cursor: pointer; transition: all 0.3s ease; width: 100%; opacity: 0.5; pointer-events: none;"
                data-track="supplier_application_proceed"
                disabled>
          Proceed to Official Application Form
        </button>
        
        <p style="text-align: center; margin-top: 15px; color: rgba(255,255,255,0.8); font-size: 0.9em;">
          You'll be redirected to our secure Microsoft Forms application system
        </p>
      </div>
    </div>
  </div>
</section>

<!-- Footer will be added by footer.js -->

<script>
  // === SUPPLIER PORTAL TRACKING SYSTEM ===
  console.log('🚀 === SUPPLIER PORTAL INITIALIZED === 🚀');

  // API Endpoint for tracking interactions (consistent with other pages)
  const TRACKING_API_URL = "https://default61ffc6bcd9ce458b8120d32187c377.0d.environment.api.powerplatform.com:443/powerautomate/automations/direct/workflows/2f31c90260554c5a9d6dcffec47bc6c2/triggers/manual/paths/invoke?api-version=1&sp=%2Ftriggers%2Fmanual%2Frun&sv=1.0&sig=Ou7iqzZ1YI2PzT_9X-M6PT5iVo2QRboWnFZrO3IBOL4";

  let sessionId = null;
  let gclid = null;
  let utmData = {};
  let supplierType = 'new'; // new, existing, returning
  let serviceInterest = 'general';

  // === SESSION AND TRACKING DATA MANAGEMENT ===
  function initializeTracking() {
    console.log('📊 Initializing supplier portal tracking system...');
    
    // Get or create session ID
    sessionId = getOrCreateSessionId();
    
    // Capture GCLID from URL or localStorage
    gclid = getGCLID();
    
    // Capture UTM parameters
    utmData = getUTMData();
    
    // Detect supplier type and service interest
    supplierType = detectSupplierType();
    serviceInterest = detectServiceInterest();
    
    // Update debug display
    updateDebugInfo();
    
    // Send page view event
    sendPageViewEvent();
    
    console.log('✅ Supplier portal tracking system initialized');
    console.log('📊 Session ID:', sessionId);
    console.log('📊 Supplier Type:', supplierType);
    console.log('📊 Service Interest:', serviceInterest);
  }

  function getOrCreateSessionId() {
    let sid = localStorage.getItem("eek_session_id");
    
    if (!sid) {
      // Try to get from URL parameters (cross-page continuity)
      const urlParams = new URLSearchParams(window.location.search);
      sid = urlParams.get('session_id');
      
      if (sid) {
        localStorage.setItem("eek_session_id", sid);
        console.log('🔄 Session ID restored from URL');
      } else {
        // Create new session ID
        sid = `supplier_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;
        localStorage.setItem("eek_session_id", sid);
        console.log('🆕 New supplier portal session ID created');
      }
    } else {
      console.log('✅ Existing session ID found');
    }
    
    return sid;
  }

  function getGCLID() {
    const urlParams = new URLSearchParams(window.location.search);
    let gclidValue = urlParams.get('gclid');
    
    // If GCLID in URL, store it (30-day persistence)
    if (gclidValue) {
      localStorage.setItem("eek_gclid", gclidValue);
      localStorage.setItem("eek_gclid_timestamp", new Date().toISOString());
      console.log('✅ GCLID captured from URL:', gclidValue);
      return gclidValue;
    }
    
    // Otherwise, try to get stored GCLID
    const storedGclid = localStorage.getItem("eek_gclid");
    const storedTimestamp = localStorage.getItem("eek_gclid_timestamp");
    
    if (storedGclid && storedTimestamp) {
      const thirtyDaysAgo = new Date();
      thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30);
      
      if (new Date(storedTimestamp) > thirtyDaysAgo) {
        console.log('📋 Using stored GCLID:', storedGclid);
        return storedGclid;
      } else {
        // GCLID expired
        localStorage.removeItem("eek_gclid");
        localStorage.removeItem("eek_gclid_timestamp");
        console.log('⚠️ GCLID expired and removed');
      }
    }
    
    return null;
  }

  function getUTMData() {
    const urlParams = new URLSearchParams(window.location.search);
    const utm = {};
    const utmParams = ['utm_source', 'utm_medium', 'utm_campaign', 'utm_term', 'utm_content'];
    
    // Check URL parameters
    utmParams.forEach(param => {
      const value = urlParams.get(param);
      if (value) {
        utm[param] = value;
        // Store for future use
        localStorage.setItem(`eek_${param}`, value);
      }
    });
    
    // Fill in from localStorage if not in URL
    utmParams.forEach(param => {
      if (!utm[param]) {
        const stored = localStorage.getItem(`eek_${param}`);
        if (stored) {
          utm[param] = stored;
        }
      }
    });
    
    return utm;
  }

  function detectSupplierType() {
    const urlParams = new URLSearchParams(window.location.search);
    const referrer = document.referrer.toLowerCase();
    
    // Check URL parameters for supplier type
    const typeParam = urlParams.get('supplier_type') || urlParams.get('type');
    if (typeParam) {
      return typeParam.toLowerCase();
    }
    
    // Check if coming from supplier-specific pages
    if (referrer.includes('/supplier-upload') || referrer.includes('/supplier-relations')) {
      return 'existing';
    }
    
    // Check localStorage for previous supplier activity
    const hasSupplierHistory = localStorage.getItem('eek_supplier_activity');
    if (hasSupplierHistory) {
      return 'returning';
    }
    
    return 'new';
  }

  function detectServiceInterest() {
    const urlParams = new URLSearchParams(window.location.search);
    const service = urlParams.get('service') || urlParams.get('interest');
    
    if (service) {
      return service.toLowerCase();
    }
    
    // Check referrer for service-specific interest
    const referrer = document.referrer.toLowerCase();
    if (referrer.includes('jump-start') || referrer.includes('battery')) return 'jump-start';
    if (referrer.includes('tyre') || referrer.includes('tire')) return 'tyre-service';
    if (referrer.includes('fuel') || referrer.includes('petrol') || referrer.includes('diesel')) return 'fuel-service';
    if (referrer.includes('lockout') || referrer.includes('locked')) return 'lockout-service';
    if (referrer.includes('diagnostic') || referrer.includes('repair')) return 'diagnostics';
    if (referrer.includes('trailer')) return 'trailer-service';
    if (referrer.includes('inspection') || referrer.includes('purchase')) return 'inspections';
    if (referrer.includes('towing') || referrer.includes('recovery')) return 'towing';
    
    return 'general';
  }

  function updateDebugInfo() {
    const sessionIdEl = document.getElementById('debugSessionId');
    const gclidEl = document.getElementById('debugGclid');
    const supplierTypeEl = document.getElementById('debugSupplierType');
    const serviceInterestEl = document.getElementById('debugServiceInterest');
    
    if (sessionIdEl) sessionIdEl.textContent = sessionId ? sessionId.substring(0, 20) + '...' : 'None';
    if (gclidEl) gclidEl.textContent = gclid || 'None';
    if (supplierTypeEl) supplierTypeEl.textContent = supplierType;
    if (serviceInterestEl) serviceInterestEl.textContent = serviceInterest;
  }

  // === EVENT TRACKING ===
  function buildTrackingPayload(eventType, eventAction, additionalData = {}) {
    // 🆕 ENHANCED GEOLOCATION DATA - ALL AVAILABLE FIELDS
    const geo = window.CF_GEO || {
      country: 'Unknown',
      city: 'Unknown', 
      region: 'Unknown',
      postalCode: 'Unknown',
      latitude: null,
      longitude: null,
      timezone: 'Unknown',
      continent: 'Unknown',
      regionCode: 'Unknown',
      countryCode: 'Unknown'
    };
    
    return {
      eventType: eventType,
      eventAction: eventAction,
      timestamp: new Date().toISOString(),
      sessionId: sessionId,
      gclid: gclid,
      
      // 🆕 COMPREHENSIVE LOCATION DATA
      location: {
        // Basic location info
        country: geo.country || 'Unknown',
        countryCode: geo.countryCode || geo.country || 'Unknown',
        region: geo.region || 'Unknown',
        regionCode: geo.regionCode || 'Unknown',
        city: geo.city || 'Unknown',
        postalCode: geo.postalCode || 'Unknown',
        continent: geo.continent || 'Unknown',
        
        // Coordinates
        coordinates: {
          latitude: geo.latitude || null,
          longitude: geo.longitude || null,
          accuracy: geo.latitude && geo.longitude ? 'IP-based' : null
        },
        
        // Timezone
        timezone: geo.timezone || 'Unknown',
        
        // Raw CF_GEO data for debugging
        raw: geo
      },
      
      // Page context
      page: {
        title: document.title,
        url: window.location.href,
        path: window.location.pathname,
        referrer: document.referrer || null,
        pageType: 'supplier_portal'
      },
      
      // Supplier-specific data
      supplier: {
        type: supplierType,
        serviceInterest: serviceInterest,
        applicationStage: 'browsing' // browsing, terms_review, application_started, application_submitted
      },
      
      // UTM tracking
      utm: utmData,
      
      // Device info
      device: {
        userAgent: navigator.userAgent,
        platform: navigator.platform || null,
        language: navigator.language || null,
        mobile: /Mobi|Android/i.test(navigator.userAgent),
        screen: {
          width: window.screen ? window.screen.width : null,
          height: window.screen ? window.screen.height : null,
          pixelRatio: window.devicePixelRatio || 1
        }
      },
      
      // Source tracking
      source: 'supplier_portal',
      formVersion: '2.0',
      
      // Additional data
      ...additionalData
    };
  }

  async function sendTrackingEvent(payload) {
    try {
      const response = await fetch(TRACKING_API_URL, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(payload),
        keepalive: true
      });
      
      console.log(`📡 Supplier portal event sent: ${payload.eventAction} (Status: ${response.status})`);
      return response.ok;
    } catch (error) {
      console.error('❌ Supplier portal tracking event failed:', error);
      return false;
    }
  }

  function sendPageViewEvent() {
    const payload = buildTrackingPayload('page_view', 'supplier_portal_view', {
      loadTime: Date.now() - performance.navigationStart,
      supplierPortalType: 'main',
      targetAudience: supplierType
    });
    
    sendTrackingEvent(payload);
  }

  // === INTERACTION TRACKING ===
  function trackInteraction(element) {
    const trackingAction = element.dataset.track;
    const linkUrl = element.href;
    const linkText = element.textContent.trim();
    
    console.log('👆 Supplier portal interaction tracked:', trackingAction);
    
    // Determine if this is a high-value interaction
    const isHighValue = trackingAction.includes('application') || 
                       trackingAction.includes('terms') ||
                       trackingAction.includes('call') ||
                       trackingAction.includes('support');
    
    // Build event payload
    const payload = buildTrackingPayload('supplier_interaction', trackingAction, {
      element: {
        tag: element.tagName.toLowerCase(),
        text: linkText,
        href: linkUrl,
        className: element.className,
        isHighValue: isHighValue
      },
      interactionType: element.href && element.href.startsWith('tel:') ? 'supplier_phone_call' : 
                      element.href && element.href.startsWith('mailto:') ? 'supplier_email' : 'supplier_link_click',
      supplierContext: {
        type: supplierType,
        serviceInterest: serviceInterest,
        stage: getApplicationStage(trackingAction)
      }
    });
    
    // Send tracking event
    sendTrackingEvent(payload);
    
    // Update supplier activity in localStorage
    localStorage.setItem('eek_supplier_activity', Date.now().toString());
    
    // Analytics tracking
    if (typeof gtag !== 'undefined') {
      gtag('event', trackingAction, {
        event_category: 'Supplier Portal',
        event_label: linkText,
        custom_parameter_1: supplierType,
        custom_parameter_2: serviceInterest,
        value: getEventValue(trackingAction)
      });
      
      // Track high-value interactions as conversions
      if (isHighValue) {
        gtag('event', 'conversion', {
          send_to: 'AW-17084465163/supplier_portal_conversion'
        });
      }
    }
    
    // Reddit Pixel tracking for supplier interactions
    if (typeof rdt !== 'undefined') {
      const eventValue = getEventValue(trackingAction);
      rdt('track', 'Lead', {
        customEventName: 'supplier_' + trackingAction,
        conversionId: `supplier_${Date.now()}`,
        value: eventValue,
        currency: 'NZD',
        eventSource: 'supplier_portal',
        supplierType: supplierType,
        serviceInterest: serviceInterest,
        gclid: gclid
      });
    }
  }

  function getApplicationStage(action) {
    if (action.includes('terms')) return 'terms_review';
    if (action.includes('application') || action.includes('proceed')) return 'application_started';
    if (action.includes('existing_supplier')) return 'existing_management';
    return 'browsing';
  }

  function getEventValue(action) {
    const valueMap = {
      'header_apply_now': 50000,
      'supplier_application_proceed': 75000,
      'supplier_terms_review': 30000,
      'supplier_terms_link': 25000,
      'nav_phone_call': 40000,
      'existing_supplier_support_call': 35000,
      'existing_supplier_upload': 20000,
      'existing_supplier_relations': 25000,
      'existing_supplier_resources': 15000,
      'footer_phone': 30000,
      'footer_supplier_relations': 20000,
      'nav_services': 10000,
      'nav_requirements': 15000,
      'nav_benefits': 12000,
      'nav_existing_suppliers': 18000,
      'nav_application': 25000
    };
    
    return (valueMap[action] || 10000) / 100; // Convert to dollars
  }

  // === PHONE NUMBER DYNAMIC DISPLAY ===
  function updatePhoneNumbers() {
    // Check if traffic comes from Google Ads
    const showTrackingNumber = !!gclid;
    
    const phoneData = showTrackingNumber ? 
      { tel: 'tel:0800447153', display: '0800 447 153' } :
      { tel: 'tel:+6498724612', display: '+64 9 872 4612' };
    
    // Update all phone links
    document.querySelectorAll('.phone-link').forEach(link => {
      link.href = phoneData.tel;
      // Never show phone numbers in display text - only show "Call Now"
      if (link.textContent.includes('0800') || link.textContent.includes('+64')) {
        link.textContent = link.textContent.replace(/0800 \d{3} \d{3}|\+64 \d \d{3} \d{3} \d{3}/, 'Now');
      }
    });
    
    console.log('📞 Supplier portal phone numbers updated:', phoneData.display);
  }

  // === APPLICATION FORM ENHANCEMENT ===
  function setupApplicationForm() {
    const termsCheckbox = document.getElementById('termsAccepted');
    const proceedButton = document.getElementById('proceedToApplication');
    
    if (termsCheckbox && proceedButton) {
      termsCheckbox.addEventListener('change', function() {
        if (this.checked) {
          proceedButton.disabled = false;
          proceedButton.style.opacity = '1';
          proceedButton.style.pointerEvents = 'auto';
          proceedButton.style.background = '#ff5500';
          
          // Track terms acceptance
          const payload = buildTrackingPayload('supplier_form_interaction', 'terms_accepted', {
            formStage: 'terms_acceptance',
            acceptanceTime: new Date().toISOString()
          });
          sendTrackingEvent(payload);
          
        } else {
          proceedButton.disabled = true;
          proceedButton.style.opacity = '0.5';
          proceedButton.style.pointerEvents = 'none';
          proceedButton.style.background = '#999';
        }
      });

      proceedButton.addEventListener('click', function() {
        // Track application form submission
        const payload = buildTrackingPayload('supplier_form_interaction', 'application_form_redirect', {
          formStage: 'redirect_to_application',
          redirectTime: new Date().toISOString(),
          supplierType: supplierType,
          serviceInterest: serviceInterest
        });
        sendTrackingEvent(payload);
        
        if (typeof gtag !== 'undefined') {
          gtag('event', 'supplier_application_redirect', {
            'event_category': 'Supplier',
            'event_label': 'Redirect to Application Form',
            'custom_parameter_1': supplierType,
            'custom_parameter_2': serviceInterest
          });
        }
        
        // Redirect to the official application form
        window.location.href = '/supplier-relations';
      });
    }
  }

  // === SCROLL TRACKING ===
  let scrollTracked = false;
  function trackScroll() {
    if (!scrollTracked && window.scrollY > document.body.scrollHeight * 0.5) {
      scrollTracked = true;
      
      const payload = buildTrackingPayload('supplier_engagement', 'scroll_50_percent', {
        scrollDepth: '50%',
        pageHeight: document.body.scrollHeight,
        engagementLevel: 'medium'
      });
      
      sendTrackingEvent(payload);
      
      if (typeof gtag !== 'undefined') {
        gtag('event', 'scroll', {
          event_category: 'Supplier Portal Engagement',
          event_label: 'Scrolled 50% of supplier portal'
        });
      }
    }
  }

  // === SMOOTH SCROLLING ENHANCEMENT ===
  function setupSmoothScrolling() {
    document.querySelectorAll('.nav a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
          
          // Track section navigation
          const sectionId = this.getAttribute('href').substring(1);
          const payload = buildTrackingPayload('supplier_navigation', `section_${sectionId}`, {
            navigationMethod: 'smooth_scroll',
            targetSection: sectionId
          });
          sendTrackingEvent(payload);
        }
      });
    });
  }

  // === FORM VALIDATION ENHANCEMENT ===
  function setupFormValidation() {
    document.querySelectorAll('input[required], select[required], textarea[required]').forEach(field => {
      field.addEventListener('blur', function() {
        if (!this.value) {
          this.style.borderColor = '#ff5500';
          this.style.boxShadow = '0 0 10px rgba(255, 85, 0, 0.3)';
        } else {
          this.style.borderColor = '';
          this.style.boxShadow = '';
        }
      });
    });
  }

  // === INITIALIZATION ===
  document.addEventListener('DOMContentLoaded', function() {
    console.log('📄 Supplier Portal loaded');
    
    // Initialize tracking
    initializeTracking();
    
    // Update phone numbers based on traffic source
    updatePhoneNumbers();
    
    // Set up form functionality
    setupApplicationForm();
    
    // Set up smooth scrolling
    setupSmoothScrolling();
    
    // Set up form validation
    setupFormValidation();
    
    // Set up scroll tracking
    window.addEventListener('scroll', trackScroll);
    
    // Track initial page engagement
    if (typeof gtag !== 'undefined') {
      gtag('event', 'page_view', {
        page_title: document.title,
        page_location: window.location.href,
        custom_parameter_1: 'supplier_portal',
        custom_parameter_2: supplierType,
        gclid: gclid
      });
    }
    
    console.log('✅ Supplier Portal initialization complete');
  });

  // === TIME ON PAGE TRACKING ===
  let startTime = Date.now();
  window.addEventListener('beforeunload', function() {
    const timeOnPage = Date.now() - startTime;
    const payload = buildTrackingPayload('supplier_engagement', 'session_end', {
      timeOnPage: timeOnPage,
      timeOnPageSeconds: Math.round(timeOnPage / 1000),
      sessionType: 'supplier_portal',
      supplierType: supplierType,
      engagementLevel: timeOnPage > 300000 ? 'very_high' : // 5+ minutes
                     timeOnPage > 120000 ? 'high' :        // 2-5 minutes
                     timeOnPage > 60000 ? 'medium' :       // 1-2 minutes
                     timeOnPage > 30000 ? 'low' : 'very_low' // <30 seconds
    });
    
    sendTrackingEvent(payload);
  });

  // Enable debug panel for testing (uncomment to show)
  // document.getElementById('debugInfo').style.display = 'block';
</script>

</body>
</html>
